function Player (socket, game) {
  this.socket = socket;
  this.game = game;
  this.ready = false;
  this.offset = {
    x: 10,
    y: 250
  };

  this.side = Object.keys(this.game.players).length ? 'right' : 'left';
  this.events();
}

Player.prototype.move = function (direction) {
  if (direction === 'up') {
    this.offset.y -= 3;
  } else if (direction === 'down') {
    this.offset.y += 3;
  }
  
  this.game.broadcast("move", {offset : this.offset, side : this.side});
}

Player.prototype.events = function () {
  var that = this;
  this.socket.on('ready', function () {
    that.ready = true;
    if(that.game.isAllPlayersReady()) {
      that.game.broadcast('start');
    }
  });
}

module.exports = Player;
